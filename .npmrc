# ============================================================================
# Pnpm Configuration for Volteryde Platform Monorepo
# ============================================================================
# This file configures pnpm for optimal monorepo behavior and Docker builds.

# Use strict mode for deterministic installs
strict-peer-dependencies=false
auto-install-peers=true

# ============================================================================
# Hoisting Configuration
# ============================================================================
# NestJS and TypeORM require certain packages to be hoisted to work correctly.
# These patterns allow specific packages to be accessible from the root.

# Hoist NestJS ecosystem packages
public-hoist-pattern[]=*nestjs*
public-hoist-pattern[]=*swagger*

# Hoist TypeORM and database drivers
public-hoist-pattern[]=*typeorm*
public-hoist-pattern[]=pg
public-hoist-pattern[]=*redis*

# Hoist Temporal SDK packages
public-hoist-pattern[]=*temporalio*

# Hoist common build tools
public-hoist-pattern[]=*eslint*
public-hoist-pattern[]=*prettier*
public-hoist-pattern[]=*typescript*

# ============================================================================
# Performance Settings
# ============================================================================
# Optimize for CI/CD and Docker builds

# Prefer offline resolution when possible
prefer-offline=true

# Use frozen lockfile in CI (prevents modifications)
# Note: Use --frozen-lockfile flag in Docker instead
